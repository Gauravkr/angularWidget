# Build Instructions

## Getting started

Assuming node.js is installed on your machine, execute the following:

1. `npm install`
2. `bower install`

## Run Locally in Development Mode

Development mode makes use of require.js and less.js to load the raw source into the application.

This mode also sets up proxies to simulate the front-controller. These are configurable in `proxies.json`.

1. `grunt run`

## Run Locally in Production Mode

Production mode does a full compile and minify and runs the source as it would run if it were deployed in production.
This allows us to preview the deployment.

This mode also sets up proxies to simulate the front-controller. These are configurable in `proxies.json`.

1. `grunt run:prod`

## Run Unit Tests

In addition to running the unit tests, Instanbul coverage and Plato complexity reports are also generated by this task.
You can find the reports in the `target/reports` directory.

Tests are also run as a pre-requisite to executing the `run:prod`, `default`, or one of the `release` tasks.

1. `grunt test`

## Bump the version

Bump the semantic version, as described in the [semver.org](http://semver.org) standard.

This should be a manual process that takes place immediately after a release is finalized. The decision as to whether to bump
the major, minor, or patch version numbers should be based on the [semver.org](http://semver.org) standard.

1. `grunt bump:(major|minor|patch)`

## Packaging

Two tasks exist to aid in the packaging process: `package:preRelease`, and `package:release`.

Executing one of these will generate a compressed archive intended for deployment to maven.

The generated artifact can be found in `target/artifacts`

### package:preRelease vs package:release

The primary difference between these two tasks lies in the versioning scheme. Both are based on the [semver.org](http://semver.org) standard.

`package:preRelease` is intended to be a pre-release version where `package:release` is meant for finalized releases and also applies a release tag based on the semantic version.

`package:preRelease` convention: MAJ.MIN.PATCH-{branch}+yyyymmddhhMM.{rev} (ex: 1.0.0-master+201411191337.d9d3c1c)
`package:release` convention: MAJ.MIN.PATCH (ex: 1.0.0)

As you've probably already figured out, `package:preRelease` is intended to be executed by Jenkins, and `package:release` is intended to be executed prior to production deployment.
